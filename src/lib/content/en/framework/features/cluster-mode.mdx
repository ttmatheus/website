---
title: Cluster Mode
description: Leverage all CPU cores to scale your AzuraJS application
category: Features
icon: lucide:server-cog
order: 6
---

# Cluster Mode âš¡

AzuraJS supports native cluster mode, enabling applications to fully utilize available CPU cores. This architecture is vital for scaling Node.js applications, distributing workloads across multiple processes, and enhancing overall system performance and resilience.

## How It Works

In cluster mode, AzuraJS spawns a _master_ process alongside multiple _worker_ processes. The master process manages worker lifecycles, handling restarts upon failure and balancing incoming request loads among them. Each worker operates as an independent application instance.

## Configuration

Enable cluster mode by setting `cluster: true` in your `azura.config.ts`.

```typescript
// azura.config.ts
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  environment: "production",
  server: {
    port: 3000,
    cluster: true,
    // workers: 4, // Optional: default is CPU core count
  },
};

export default config;
```

### `cluster` Options

| Property  | Type      | Description                                                  |
| :-------- | :-------- | :----------------------------------------------------------- |
| `cluster` | `boolean` | Activates cluster mode. Default: `false`.                    |
| `workers` | `number`  | Number of worker processes. Defaults to available CPU cores. |

## Benefits of Cluster Mode

- **Improved Performance**: Parallel request processing across all CPU cores.
- **High Availability**: Fault tolerance via automatic worker restarts managed by the master process.
- **Efficient Resource Utilization**: Optimal usage of server hardware capabilities.

## Important Considerations

- **Shared State**: Workers are isolated; avoid in-memory state. Use external stores like Redis for shared data.
- **Sessions**: Store session data in a centralized store (e.g., Redis) to ensure accessibility across all workers.
- **Logging**: Implement centralized logging solutions (e.g., ELK Stack) to aggregate logs from multiple processes.

## Next Steps ðŸ“–

- [ðŸš¨ **Error Handling**](/docs/en/framework/features/error-handling): Understand how to handle errors in a clustered environment.
- [ðŸ“Š **Logger**](/docs/en/framework/features/logger): Configure your logger for cluster mode.
