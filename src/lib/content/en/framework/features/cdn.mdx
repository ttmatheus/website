---
title: AzuraJS CDN
description: Manage cache, signed URLs, and CDN purging with AzuraJS
category: Features
icon: lucide:cloud
order: 9
---

# AzuraJS CDN â˜ï¸

The `@azurajs/cdn` package seamlessly integrates Content Delivery Network (CDN) capabilities into your application. It streamlines operations such as generating secure signed URLs for private resources and programmatically purging caches to ensure content freshness.

## Installation

Add the package to your project:

<Tabs items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab value="npm">```bash npm install @azurajs/cdn ```</Tab>
  <Tab value="pnpm">```bash pnpm add @azurajs/cdn ```</Tab>
  <Tab value="yarn">```bash yarn add @azurajs/cdn ```</Tab>
  <Tab value="bun">```bash bun add @azurajs/cdn ```</Tab>
</Tabs>

## Configuration

Configure your CDN provider settings in `azura.config.ts`.

```typescript
// azura.config.ts
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  cdn: {
    provider: "cloudflare",
    apiKey: process.env.CDN_API_KEY,
    domain: "cdn.yourwebsite.com",
    cloudflare: {
      zoneId: process.env.CLOUDFLARE_ZONE_ID,
      email: process.env.CLOUDFLARE_EMAIL,
    },
  },
};

export default config;
```

## Generating Signed URLs

Securely grant temporary access to private assets without exposing underlying storage credentials using signed URLs.

```typescript
import { Controller, Get, Query } from "azurajs/decorators";
import { AzuraCDN } from "@azurajs/cdn";

@Controller("/files")
export class FileController {
  private cdnService: AzuraCDN;

  constructor() {
    this.cdnService = new AzuraCDN();
  }

  @Get("/download")
  async getSignedUrl(@Query("path") filePath: string) {
    if (!filePath) {
      return { error: "File path is required" };
    }
    const signedUrl = await this.cdnService.getSignedUrl(filePath, {
      expiresIn: 3600,
    });
    return { signedUrl };
  }
}
```

### `getSignedUrl` Options

| Option        | Type     | Description                                        |
| :------------ | :------- | :------------------------------------------------- |
| `expiresIn`   | `number` | URL validity duration in seconds. Default: `3600`. |
| `contentType` | `string` | MIME type of the file.                             |

## Cache Purging

Ensure users receive the most recent content by invalidating cached resources via the API.

```typescript
import { Controller, Post, Body } from "azurajs/decorators";
import { AzuraCDN } from "@azurajs/cdn";

@Controller("/admin/cdn")
export class CdnAdminController {
  private cdnService: AzuraCDN;

  constructor() {
    this.cdnService = new AzuraCDN();
  }

  @Post("/purge")
  async purgeCache(@Body() body: { urls?: string[]; all?: boolean }) {
    if (body.all) {
      await this.cdnService.purgeAllCache();
      return { message: "CDN cache purged successfully!" };
    } else if (body.urls && body.urls.length > 0) {
      await this.cdnService.purgeUrls(body.urls);
      return { message: "Specific URLs purged successfully!" };
    }
    return { error: "No URL or 'all' option provided for purging." };
  }
}
```

## Next Steps ğŸ“–

- [âš™ï¸ **Configuration**](/docs/en/framework/getting-started/configuration): See how to configure the `cdn` object in your configuration file.
- [ğŸ›¡ï¸ **Rate Limiting**](/docs/en/framework/features/rate-limiting): Protect your CDN administration endpoints with Rate Limiting.
