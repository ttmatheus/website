---
title: Configura√ß√£o
description: Explore todas as op√ß√µes de configura√ß√£o e personalize seu servidor
category: Come√ßando
icon: lucide:settings
order: 5
---

# Configura√ß√£o ‚öôÔ∏è

O AzuraJS √© altamente configur√°vel atrav√©s do arquivo `azura.config.ts` (tamb√©m suporta `.js`, `.json`, `.yaml`). Este arquivo √© carregado automaticamente na inicializa√ß√£o do `AzuraClient`, permitindo personalizar o comportamento do servidor, plugins e vari√°veis de ambiente.

## Estrutura do Arquivo de Configura√ß√£o

O exemplo abaixo demonstra uma configura√ß√£o padr√£o sem coment√°rios inline. Consulte as tabelas a seguir para explica√ß√µes detalhadas de cada propriedade.

```typescript
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  environment: "development",
  server: {
    port: 3000,
    ipHost: true,
    https: false,
    cluster: false,
    trustProxy: false,
  },
  logging: {
    enabled: true,
    showDetails: true,
  },
  plugins: {
    cors: {
      enabled: true,
      origins: ["*"],
      methods: ["GET", "POST", "PUT", "DELETE", "PATCH"],
      allowedHeaders: ["Content-Type", "Authorization"],
    },
    rateLimit: {
      enabled: false,
      limit: 100,
      timeframe: 60000,
    },
  },
};

export default config;
```

## Op√ß√µes Detalhadas de Configura√ß√£o

### Ambiente (Environment)

A propriedade `environment` define o modo de execu√ß√£o da aplica√ß√£o, afetando logs e otimiza√ß√µes.

| Valor           | Descri√ß√£o                                                |
| :-------------- | :------------------------------------------------------- |
| `"development"` | Habilita logs detalhados e recursos de depura√ß√£o.        |
| `"production"`  | Otimiza para performance e reduz a verbosidade dos logs. |
| `"test"`        | Configura o ambiente para testes automatizados.          |

### Configura√ß√£o do Servidor

Estas configura√ß√µes controlam o comportamento do servidor HTTP/HTTPS.

| Propriedade  | Tipo                            | Padr√£o  | Descri√ß√£o                                                                                                       |
| :----------- | :------------------------------ | :------ | :-------------------------------------------------------------------------------------------------------------- |
| `port`       | `number`                        | `3000`  | A porta onde o servidor ir√° escutar.                                                                            |
| `ipHost`     | `boolean`                       | `true`  | Tenta resolver o IP do host automaticamente.                                                                    |
| `https`      | `boolean`                       | `false` | Habilita suporte a HTTPS. Requer `key` e `cert`.                                                                |
| `key`        | `string`                        | -       | Caminho para o arquivo da chave privada SSL.                                                                    |
| `cert`       | `string`                        | -       | Caminho para o arquivo do certificado SSL.                                                                      |
| `cluster`    | `boolean`                       | `false` | Habilita o modo cluster experimental para utilizar m√∫ltiplos n√∫cleos da CPU.                                    |
| `trustProxy` | `boolean \| string \| string[]` | `false` | Configura confian√ßa em proxies reversos (ex: Nginx, Cloudflare) para identificar corretamente IPs dos clientes. |

### Configura√ß√£o de Logging

Controla o sistema interno de logs.

| Propriedade   | Tipo      | Padr√£o       | Descri√ß√£o                                                                                     |
| :------------ | :-------- | :----------- | :-------------------------------------------------------------------------------------------- |
| `enabled`     | `boolean` | `true`       | Ativa ou desativa o sistema de logs.                                                          |
| `showDetails` | `boolean` | `true` (dev) | Se verdadeiro, logs incluem detalhes como par√¢metros de query, corpo da requisi√ß√£o e headers. |

### Plugins

Configure plugins integrados como CORS e Rate Limiting diretamente no arquivo de configura√ß√£o.

#### CORS

| Propriedade      | Tipo       | Descri√ß√£o                                                                            |
| :--------------- | :--------- | :----------------------------------------------------------------------------------- |
| `enabled`        | `boolean`  | Ativa o suporte a CORS.                                                              |
| `origins`        | `string[]` | Lista de origens permitidas (ex: `["http://localhost:3000"]`) ou `["*"]` para todas. |
| `methods`        | `string[]` | Lista de m√©todos HTTP permitidos.                                                    |
| `allowedHeaders` | `string[]` | Lista de headers HTTP permitidos.                                                    |

#### Rate Limit

| Propriedade | Tipo      | Descri√ß√£o                                                     |
| :---------- | :-------- | :------------------------------------------------------------ |
| `enabled`   | `boolean` | Ativa o Rate Limiting.                                        |
| `limit`     | `number`  | N√∫mero m√°ximo de requisi√ß√µes permitidas no per√≠odo.           |
| `timeframe` | `number`  | Janela de tempo em milissegundos (ex: `60000` para 1 minuto). |

## Vari√°veis de Ambiente

O AzuraJS suporta o carregamento autom√°tico de vari√°veis de ambiente a partir de um arquivo `.env` na raiz do projeto.

**Exemplo de arquivo `.env`:**

```text
PORT=8080
DATABASE_URL=postgres://user:pass@host:port/db
```

Estas vari√°veis s√£o acess√≠veis via `process.env`. Voc√™ pode referenci√°-las no seu `azura.config.ts`:

```typescript
const config: ConfigTypes = {
  server: {
    port: Number(process.env.PORT) || 3000,
  },
  // ...
};
```

## Pr√≥ximos Passos üìñ

- [üéØ **Controllers**](/docs/pt/framework/conceitos/controllers): Aprenda a construir rotas.
- [üîå **Middleware**](/docs/pt/framework/conceitos/middleware): Explore a implementa√ß√£o de middlewares.
