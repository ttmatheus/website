---
title: Request & Response
description: Entenda os objetos de requisi√ß√£o e resposta no AzuraJS
category: Conceitos Principais
icon: lucide:message-square
order: 5
---

# Request & Response üí¨

No AzuraJS, os objetos de requisi√ß√£o (`RequestServer`) e resposta (`ResponseServer`) s√£o a interface principal para interagir com o cliente HTTP. Eles s√£o baseados na especifica√ß√£o padr√£o do Node.js, mas estendidos com funcionalidades adicionais para facilitar o desenvolvimento de APIs.

## Objeto `RequestServer`

O objeto `RequestServer` representa a requisi√ß√£o HTTP recebida do cliente. Ele cont√©m informa√ß√µes sobre a requisi√ß√£o, como cabe√ßalhos, par√¢metros de URL, corpo da requisi√ß√£o e muito mais.

### Propriedades Comuns

| Propriedade | Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| `url` | `string` | A URL completa da requisi√ß√£o. |
| `method` | `string` | O m√©todo HTTP da requisi√ß√£o (GET, POST, etc.). |
| `headers` | `Record<string, string>` | Um objeto contendo todos os cabe√ßalhos da requisi√ß√£o. |
| `params` | `Record<string, string>` | Par√¢metros de rota extra√≠dos da URL (ex: `/users/:id`). |
| `query` | `Record<string, string>` | Par√¢metros da query string da URL (ex: `?name=value`). |
| `body` | `any` | O corpo da requisi√ß√£o, j√° parseado (JSON, formul√°rio, etc.). |
| `ip` | `string` | O endere√ßo IP do cliente que fez a requisi√ß√£o. |
| `cookies` | `Record<string, string>` | Um objeto contendo todos os cookies da requisi√ß√£o. |

### M√©todos Comuns

| M√©todo | Descri√ß√£o |
| :--- | :--- |
| `json(): Promise<any>` | L√™ e parseia o corpo da requisi√ß√£o como JSON. |
| `text(): Promise<string>` | L√™ o corpo da requisi√ß√£o como texto. |
| `arrayBuffer(): Promise<ArrayBuffer>` | L√™ o corpo da requisi√ß√£o como um ArrayBuffer. |
| `blob(): Promise<Blob>` | L√™ o corpo da requisi√ß√£o como um Blob. |
| `formData(): Promise<FormData>` | L√™ o corpo da requisi√ß√£o como FormData. |

### Exemplo de Uso

```typescript
import { Controller, Get, Post, Req, Body, Param, Query } from "azurajs/decorators";
import type { RequestServer } from "azurajs/types";

@Controller("/data")
export class DataController {
  @Get("/:id")
  getData(
    @Req() req: RequestServer,
    @Param("id") id: string,
    @Query("filter") filter?: string
  ) {
    console.log("M√©todo:", req.method);
    console.log("URL:", req.url);
    console.log("Headers:", req.headers);
    return { id, filter, ip: req.ip };
  }

  @Post()
  async postData(@Body() body: any) {
    // O decorator @Body j√° faz o parse, mas voc√™ pode usar req.json() em JS puro
    return { received: body };
  }
}
```

## Objeto `ResponseServer`

O objeto `ResponseServer` representa a resposta HTTP que ser√° enviada de volta ao cliente. Ele permite definir o status, cabe√ßalhos e o corpo da resposta.

### Propriedades Comuns

| Propriedade | Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| `statusCode` | `number` | O c√≥digo de status HTTP da resposta. |
| `headersSent` | `boolean` | Indica se os cabe√ßalhos j√° foram enviados. |

### M√©todos Comuns

| M√©todo | Descri√ß√£o |
| :--- | :--- |
| `status(code: number): this` | Define o c√≥digo de status HTTP da resposta. |
| `json(data: any): void` | Envia uma resposta JSON. |
| `send(body: string | Buffer | object): void` | Envia uma resposta de texto, buffer ou JSON. |
| `end(): void` | Finaliza a resposta sem enviar dados. |
| `setHeader(name: string, value: string): void` | Define um cabe√ßalho de resposta. |
| `getHeader(name: string): string | undefined` | Obt√©m o valor de um cabe√ßalho de resposta. |
| `cookie(name: string, value: string, options?: CookieOptions): void` | Define um cookie. |
| `clearCookie(name: string, options?: CookieOptions): void` | Exclui um cookie. |
| `redirect(url: string, status?: number): void` | Redireciona o cliente para outra URL. |

### Exemplo de Uso

```typescript
import { Controller, Get, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/status")
export class StatusController {
  @Get("/ok")
  ok(@Res() res: ResponseServer) {
    res.status(200).send("Tudo certo!");
  }

  @Get("/error")
  error(@Res() res: ResponseServer) {
    res.status(500).json({ message: "Erro interno do servidor" });
  }

  @Get("/redirect")
  redirectToGoogle(@Res() res: ResponseServer) {
    res.redirect("https://www.google.com");
  }
}
```

## Pr√≥ximos Passos üìñ

- [üíâ **Inje√ß√£o de Par√¢metros**](/docs/pt/conceitos/decorators): Veja como os decorators de par√¢metro simplificam o acesso a `req` e `res`.
- [üö® **Tratamento de Erros**](/docs/pt/recursos/error-handling): Entenda como usar `res.status()` e `res.json()` para respostas de erro consistentes.
