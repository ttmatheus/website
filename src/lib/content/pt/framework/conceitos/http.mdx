---
title: Request & Response
description: Entenda os objetos de requisi√ß√£o e resposta no AzuraJS
category: Conceitos Principais
icon: lucide:message-square
order: 5
---

# Request & Response üí¨

No AzuraJS, os objetos `RequestServer` e `ResponseServer` atuam como a interface principal para intera√ß√µes HTTP. Embora baseados nas especifica√ß√µes padr√£o do Node.js, eles s√£o aprimorados com m√©todos e propriedades convenientes para agilizar o desenvolvimento de APIs.

## Objeto `RequestServer`

O objeto `RequestServer` encapsula a requisi√ß√£o HTTP recebida, fornecendo acesso a cabe√ßalhos, par√¢metros de URL, corpo da requisi√ß√£o e informa√ß√µes do cliente.

### Propriedades Comuns

| Propriedade | Tipo                     | Descri√ß√£o                                               |
| :---------- | :----------------------- | :------------------------------------------------------ |
| `url`       | `string`                 | A URL completa da requisi√ß√£o.                           |
| `method`    | `string`                 | O m√©todo HTTP (GET, POST, etc.).                        |
| `headers`   | `Record<string, string>` | Cole√ß√£o de cabe√ßalhos da requisi√ß√£o.                    |
| `params`    | `Record<string, string>` | Par√¢metros de rota extra√≠dos do caminho da URL.         |
| `query`     | `Record<string, string>` | Par√¢metros da query string parseados.                   |
| `body`      | `any`                    | O corpo da requisi√ß√£o parseado (JSON, form data, etc.). |
| `ip`        | `string`                 | O endere√ßo IP do cliente.                               |
| `cookies`   | `Record<string, string>` | Cole√ß√£o de cookies da requisi√ß√£o.                       |

### M√©todos Comuns

| M√©todo                                | Descri√ß√£o                                       |
| :------------------------------------ | :---------------------------------------------- |
| `json(): Promise<any>`                | L√™ e parseia o corpo como JSON assincronamente. |
| `text(): Promise<string>`             | L√™ o corpo como texto assincronamente.          |
| `arrayBuffer(): Promise<ArrayBuffer>` | L√™ o corpo como um ArrayBuffer.                 |
| `blob(): Promise<Blob>`               | L√™ o corpo como um Blob.                        |
| `formData(): Promise<FormData>`       | L√™ o corpo como FormData.                       |

### Exemplo de Uso

```typescript
import {
  Controller,
  Get,
  Post,
  Req,
  Body,
  Param,
  Query,
} from "azurajs/decorators";
import type { RequestServer } from "azurajs/types";

@Controller("/data")
export class DataController {
  @Get("/:id")
  getData(
    @Req() req: RequestServer,
    @Param("id") id: string,
    @Query("filter") filter?: string,
  ) {
    return {
      id,
      filter,
      ip: req.ip,
      method: req.method,
      url: req.url,
    };
  }

  @Post()
  async postData(@Body() body: any) {
    return { received: body };
  }
}
```

## Objeto `ResponseServer`

O objeto `ResponseServer` facilita o envio da resposta HTTP de volta ao cliente, permitindo definir c√≥digos de status, cabe√ßalhos, cookies e o corpo da resposta.

### Propriedades Comuns

| Propriedade   | Tipo      | Descri√ß√£o                                  |
| :------------ | :-------- | :----------------------------------------- |
| `statusCode`  | `number`  | O c√≥digo de status HTTP atual.             |
| `headersSent` | `boolean` | Indica se os cabe√ßalhos j√° foram enviados. |

### M√©todos Comuns

| M√©todo                                                               | Descri√ß√£o                                   |
| :------------------------------------------------------------------- | :------------------------------------------ | ---------------------------------------- | ------------------------------------------------- |
| `status(code: number): this`                                         | Define o c√≥digo de status HTTP.             |
| `json(data: any): void`                                              | Envia uma resposta JSON.                    |
| `send(body: string                                                   | Buffer                                      | object): void`                           | Envia uma resposta do tipo texto, buffer ou JSON. |
| `end(): void`                                                        | Finaliza a resposta sem enviar dados.       |
| `setHeader(name: string, value: string): void`                       | Define um cabe√ßalho de resposta espec√≠fico. |
| `getHeader(name: string): string                                     | undefined`                                  | Obt√©m um cabe√ßalho de resposta definido. |
| `cookie(name: string, value: string, options?: CookieOptions): void` | Define um cookie com op√ß√µes.                |
| `clearCookie(name: string, options?: CookieOptions): void`           | Remove um cookie espec√≠fico.                |
| `redirect(url: string, status?: number): void`                       | Redireciona a requisi√ß√£o para uma nova URL. |

### Exemplo de Uso

```typescript
import { Controller, Get, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/status")
export class StatusController {
  @Get("/ok")
  ok(@Res() res: ResponseServer) {
    res.status(200).send("Tudo certo!");
  }

  @Get("/error")
  error(@Res() res: ResponseServer) {
    res.status(500).json({ message: "Erro interno do servidor" });
  }

  @Get("/redirect")
  redirectToGoogle(@Res() res: ResponseServer) {
    res.redirect("https://www.google.com");
  }
}
```

## Pr√≥ximos Passos üìñ

- [üíâ **Inje√ß√£o de Par√¢metros**](/docs/pt/framework/conceitos/decorators): Veja como os decorators de par√¢metro simplificam o acesso a `req` e `res`.
- [üö® **Tratamento de Erros**](/docs/pt/framework/recursos/error-handling): Entenda como usar `res.status()` e `res.json()` para respostas de erro consistentes.
