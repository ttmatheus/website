---
title: Rate Limiting
description: Proteja sua API contra abuso e DDoS com Rate Limiting integrado
category: Recursos
icon: lucide:gauge
order: 4
---

# Rate Limiting üõ°Ô∏è

O AzuraJS disponibiliza um middleware integrado de Rate Limiting, projetado para proteger sua API contra ataques de for√ßa bruta, abuso e tentativas de nega√ß√£o de servi√ßo (DDoS), restringindo o n√∫mero de requisi√ß√µes que um cliente pode realizar em um intervalo de tempo.

## Configura√ß√£o Global

Configure o Rate Limiting globalmente atrav√©s do seu arquivo `azura.config.ts`.

```typescript
// azura.config.ts
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  plugins: {
    rateLimit: {
      enabled: true,
      limit: 100,
      timeframe: 60000, // 1 minuto
      message: "Muitas requisi√ß√µes, tente novamente mais tarde.",
      trustProxy: false,
    },
  },
};

export default config;
```

### Op√ß√µes de `rateLimit`

| Propriedade  | Tipo      | Descri√ß√£o                                                                                    |
| :----------- | :-------- | :------------------------------------------------------------------------------------------- |
| `enabled`    | `boolean` | Ativa o middleware de Rate Limiting. Padr√£o: `false`.                                        |
| `limit`      | `number`  | M√°ximo de requisi√ß√µes permitidas dentro do `timeframe`. Padr√£o: `60`.                        |
| `timeframe`  | `number`  | Janela de tempo em milissegundos. Padr√£o: `60000` (1 minuto).                                |
| `message`    | `string`  | Mensagem de erro personalizada enviada ao exceder o limite.                                  |
| `trustProxy` | `boolean` | Resolve o IP do cliente via `X-Forwarded-For` se estiver atr√°s de um proxy. Padr√£o: `false`. |

## Rate Limiting por Rota/Controller

Aplique Rate Limiting de forma seletiva a controllers ou rotas espec√≠ficos utilizando o decorator `@UseMiddleware` em conjunto com a fun√ß√£o `rateLimit`.

```typescript
import { Controller, Get, Post, UseMiddleware } from "azurajs/decorators";
import { rateLimit } from "azurajs/plugins";

const tenRequestsPerMinute = rateLimit(10, 60 * 1000);

@Controller("/auth")
export class AuthController {
  @UseMiddleware(tenRequestsPerMinute)
  @Get("/login")
  login() {
    return "P√°gina de Login";
  }

  @UseMiddleware(rateLimit(5, 30 * 1000))
  @Post("/register")
  register() {
    return "Registro de Usu√°rio";
  }
}
```

## Como Funciona

O middleware monitora a contagem de requisi√ß√µes por IP √∫nico (ou identificador, se `trustProxy` estiver ativo) durante a janela especificada. O excesso de requisi√ß√µes aciona uma resposta `429 Too Many Requests`.

## Pr√≥ximos Passos üìñ

- [üåê **CORS**](/docs/pt/framework/recursos/cors): Entenda como proteger sua API contra requisi√ß√µes de diferentes origens.
- [üö® **Tratamento de Erros**](/docs/pt/framework/recursos/error-handling): Saiba como personalizar a resposta de erro para o Rate Limiting.
