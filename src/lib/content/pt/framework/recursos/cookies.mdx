---
title: Cookies
description: Gerenciamento nativo de cookies no AzuraJS
category: Recursos
icon: lucide:cookie
order: 2
---

# Cookies üç™

O AzuraJS oferece um gerenciamento de cookies simples e eficiente, permitindo que voc√™ defina, leia e exclua cookies de forma nativa, sem a necessidade de bibliotecas externas. Os objetos `RequestServer` e `ResponseServer` s√£o estendidos para facilitar essa intera√ß√£o.

## Lendo Cookies

Voc√™ pode acessar os cookies enviados pelo cliente atrav√©s da propriedade `req.cookies` ou usando o decorator `@Cookies()`.

### Via `req.cookies`

```typescript
import { Controller, Get, Req, Res } from "azurajs/decorators";
import type { RequestServer, ResponseServer } from "azurajs/types";

@Controller("/auth")
export class AuthController {
  @Get("/check-session")
  checkSession(@Req() req: RequestServer, @Res() res: ResponseServer) {
    const sessionId = req.cookies.sessionId;
    if (sessionId) {
      return res.json({ authenticated: true, sessionId });
    } else {
      return res.status(401).json({ authenticated: false });
    }
  }
}
```

### Via `@Cookies()` Decorator

```typescript
import { Controller, Get, Cookies } from "azurajs/decorators";

@Controller("/auth")
export class AuthController {
  @Get("/check-session")
  checkSession(@Cookies("sessionId") sessionId?: string) {
    if (sessionId) {
      return { authenticated: true, sessionId };
    } else {
      return { authenticated: false };
    }
  }
}
```

## Definindo Cookies

Use o m√©todo `res.cookie()` para definir um cookie na resposta. Ele aceita o nome, o valor e um objeto de op√ß√µes para configurar o cookie.

```typescript
import { Controller, Post, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/auth")
export class AuthController {
  @Post("/login")
  login(@Res() res: ResponseServer) {
    const newSessionId = "some-unique-session-id";
    res.cookie("sessionId", newSessionId, {
      httpOnly: true, // N√£o acess√≠vel via JavaScript no navegador
      secure: process.env.NODE_ENV === "production", // Enviar apenas em HTTPS
      maxAge: 1000 * 60 * 60 * 24 * 7, // Expira em 7 dias
      path: "/", // Dispon√≠vel para todo o dom√≠nio
      sameSite: "lax", // Prote√ß√£o CSRF
    });
    return res.json({ message: "Login successful" });
  }
}
```

### Op√ß√µes de Cookie

| Op√ß√£o | Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| `maxAge` | `number` | Tempo de vida do cookie em milissegundos. |
| `expires` | `Date` | Data de expira√ß√£o do cookie. |
| `httpOnly` | `boolean` | Se `true`, o cookie n√£o pode ser acessado via JavaScript. |
| `secure` | `boolean` | Se `true`, o cookie s√≥ √© enviado em requisi√ß√µes HTTPS. |
| `path` | `string` | Caminho da URL para o qual o cookie √© v√°lido. Padr√£o: `/`. |
| `domain` | `string` | Dom√≠nio para o qual o cookie √© v√°lido. |
| `sameSite` | `"lax" \| "strict" \| "none"` | Prote√ß√£o contra CSRF. |

## Excluindo Cookies

Para excluir um cookie, use `res.clearCookie()`, passando o nome do cookie. As op√ß√µes devem ser as mesmas usadas para definir o cookie, exceto `maxAge` e `expires`.

```typescript
import { Controller, Post, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/auth")
export class AuthController {
  @Post("/logout")
  logout(@Res() res: ResponseServer) {
    res.clearCookie("sessionId", { path: "/" });
    return res.json({ message: "Logout successful" });
  }
}
```

## Pr√≥ximos Passos üìñ

- [üõ°Ô∏è **Valida√ß√£o**](/docs/pt/recursos/validacao): Garanta que os dados dos cookies sejam v√°lidos.
- [üåê **CORS**](/docs/pt/recursos/cors): Entenda como os cookies interagem com pol√≠ticas de CORS.
