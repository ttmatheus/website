---
title: Cookies
description: Gerenciamento nativo de cookies no AzuraJS
category: Recursos
icon: lucide:cookie
order: 2
---

# Cookies üç™

O AzuraJS oferece gerenciamento de cookies simples e eficiente, permitindo definir, ler e excluir cookies nativamente sem depend√™ncias externas. Os objetos `RequestServer` e `ResponseServer` s√£o estendidos para facilitar essas intera√ß√µes.

## Lendo Cookies

Cookies enviados pelo cliente podem ser acessados via a propriedade `req.cookies` ou atrav√©s do decorator `@Cookies()`.

### Via `req.cookies`

```typescript
import { Controller, Get, Req, Res } from "azurajs/decorators";
import type { RequestServer, ResponseServer } from "azurajs/types";

@Controller("/auth")
export class AuthController {
  @Get("/check-session")
  checkSession(@Req() req: RequestServer, @Res() res: ResponseServer) {
    const sessionId = req.cookies.sessionId;

    if (sessionId) {
      return res.json({ authenticated: true, sessionId });
    }

    return res.status(401).json({ authenticated: false });
  }
}
```

### Via `@Cookies()` Decorator

```typescript
import { Controller, Get, Cookies } from "azurajs/decorators";

@Controller("/auth")
export class AuthController {
  @Get("/check-session")
  checkSession(@Cookies("sessionId") sessionId?: string) {
    if (sessionId) {
      return { authenticated: true, sessionId };
    }

    return { authenticated: false };
  }
}
```

## Definindo Cookies

Use o m√©todo `res.cookie()` para definir um cookie na resposta enviada.

```typescript
import { Controller, Post, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/auth")
export class AuthController {
  @Post("/login")
  login(@Res() res: ResponseServer) {
    const newSessionId = "unique-session-id";

    res.cookie("sessionId", newSessionId, {
      httpOnly: true,
      secure: process.env.NODE_ENV === "production",
      maxAge: 7 * 24 * 60 * 60 * 1000, // 7 dias
      path: "/",
      sameSite: "lax",
    });

    return res.json({ message: "Login realizado com sucesso" });
  }
}
```

### Op√ß√µes de Cookie

| Op√ß√£o      | Tipo                          | Descri√ß√£o                                                  |
| :--------- | :---------------------------- | :--------------------------------------------------------- |
| `maxAge`   | `number`                      | Tempo de vida do cookie em milissegundos.                  |
| `expires`  | `Date`                        | Data de expira√ß√£o absoluta.                                |
| `httpOnly` | `boolean`                     | Impede acesso via JavaScript (recomendado para seguran√ßa). |
| `secure`   | `boolean`                     | Envia o cookie apenas em conex√µes criptografadas (HTTPS).  |
| `path`     | `string`                      | Escopo do caminho da URL. Padr√£o: `/`.                     |
| `domain`   | `string`                      | Escopo do dom√≠nio.                                         |
| `sameSite` | `"lax" \| "strict" \| "none"` | Controle de envio cross-site (prote√ß√£o CSRF).              |

## Excluindo Cookies

Para remover um cookie, use `res.clearCookie()`. Voc√™ deve passar as mesmas op√ß√µes de caminho e dom√≠nio usadas na cria√ß√£o para garantir a exclus√£o correta.

```typescript
import { Controller, Post, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/auth")
export class AuthController {
  @Post("/logout")
  logout(@Res() res: ResponseServer) {
    res.clearCookie("sessionId", { path: "/" });
    return res.json({ message: "Logout realizado com sucesso" });
  }
}
```

## Pr√≥ximos Passos üìñ

- [üõ°Ô∏è **Valida√ß√£o**](/docs/pt/framework/recursos/validacao): Garanta que os dados dos cookies sejam v√°lidos.
- [üåê **CORS**](/docs/pt/framework/recursos/cors): Entenda como os cookies interagem com pol√≠ticas de CORS.
